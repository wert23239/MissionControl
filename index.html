<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Alex Mission Control</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#0a1628;--card:#111d33;--card2:#162240;--accent:#3b82f6;--accent2:#2563eb;--text:#e2e8f0;--text2:#94a3b8;--green:#22c55e;--amber:#f59e0b;--purple:#a855f7;--red:#ef4444;--border:#1e3a5f}
body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);display:flex;height:100vh;overflow:hidden}
::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}

/* Sidebar */
.sidebar{width:240px;background:var(--card);border-right:1px solid var(--border);display:flex;flex-direction:column;flex-shrink:0}
.sidebar-header{padding:20px;border-bottom:1px solid var(--border)}
.sidebar-header h1{font-size:16px;font-weight:700;color:var(--accent)}
.sidebar-header .status{font-size:12px;color:var(--green);margin-top:4px;display:flex;align-items:center;gap:6px}
.sidebar-header .status::before{content:'';width:8px;height:8px;background:var(--green);border-radius:50%;display:inline-block}
.sidebar-nav{flex:1;padding:12px 8px}
.nav-item{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:8px;cursor:pointer;font-size:14px;font-weight:500;color:var(--text2);transition:all .2s;margin-bottom:2px}
.nav-item:hover{background:var(--card2);color:var(--text)}
.nav-item.active{background:var(--accent);color:#fff}
.nav-item .icon{font-size:18px;width:24px;text-align:center}
.sidebar-footer{padding:16px;border-top:1px solid var(--border);font-size:12px;color:var(--text2);text-align:center}

/* Main */
.main{flex:1;overflow-y:auto;padding:32px}
.panel{display:none;animation:fadeIn .3s}
.panel.active{display:block}
@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.panel-title{font-size:24px;font-weight:700;margin-bottom:24px}

/* Stat cards */
.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:28px}
.stat{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:20px}
.stat-label{font-size:12px;color:var(--text2);text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}
.stat-value{font-size:28px;font-weight:700}
.stat-sub{font-size:12px;color:var(--text2);margin-top:4px}

/* Cards grid */
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:28px}
.grid3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px;margin-bottom:28px}
.card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:20px}
.card h3{font-size:14px;font-weight:600;margin-bottom:12px;color:var(--text2)}

/* Tags */
.tag{display:inline-block;padding:2px 8px;border-radius:4px;font-size:11px;font-weight:600}
.tag-book{background:rgba(245,158,11,.15);color:var(--amber)}
.tag-infra{background:rgba(59,130,246,.15);color:var(--accent)}
.tag-human{background:rgba(239,68,68,.15);color:var(--red)}
.tag-design{background:rgba(168,85,247,.15);color:var(--purple)}

/* Progress bar */
.progress-wrap{margin-bottom:20px}
.progress-label{display:flex;justify-content:space-between;font-size:13px;margin-bottom:6px}
.progress-bar{height:8px;background:var(--card2);border-radius:4px;overflow:hidden}
.progress-fill{height:100%;border-radius:4px;transition:width .5s}

/* Timeline */
.timeline-item{display:flex;gap:12px;padding:8px 0;font-size:13px;align-items:flex-start}
.timeline-time{color:var(--accent);font-weight:600;min-width:50px}
.timeline-dot{width:8px;height:8px;background:var(--accent);border-radius:50%;margin-top:5px;flex-shrink:0}

/* Quick links */
.quick-link{display:flex;align-items:center;gap:10px;padding:14px;background:var(--card2);border-radius:8px;text-decoration:none;color:var(--text);font-size:13px;font-weight:500;transition:all .2s;border:1px solid transparent}
.quick-link:hover{border-color:var(--accent);background:var(--card)}

/* Kanban */
.kanban-col h4{font-size:13px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;margin-bottom:12px;color:var(--text2)}
.kanban-item{background:var(--card2);border-radius:8px;padding:12px;margin-bottom:8px;font-size:13px}
.kanban-item .tag{margin-top:6px}

/* Chapter table */
.ch-table{width:100%;border-collapse:collapse;font-size:13px}
.ch-table th{text-align:left;padding:10px 12px;border-bottom:1px solid var(--border);color:var(--text2);font-weight:600;font-size:12px;text-transform:uppercase}
.ch-table td{padding:10px 12px;border-bottom:1px solid rgba(30,58,95,.4)}
.ch-table tr:hover{background:var(--card2)}

/* Skills grid */
.skill-card{display:flex;align-items:center;gap:12px;padding:14px;background:var(--card2);border-radius:10px;font-size:13px}
.skill-icon{font-size:24px;width:36px;text-align:center}
.skill-info{flex:1}
.skill-info .name{font-weight:600}
.skill-info .desc{font-size:11px;color:var(--text2);margin-top:2px}
.badge{padding:2px 8px;border-radius:4px;font-size:10px;font-weight:700;text-transform:uppercase}
.badge-green{background:rgba(34,197,94,.15);color:var(--green)}
.badge-yellow{background:rgba(245,158,11,.15);color:var(--amber)}

/* Revenue ideas */
.idea-item{display:flex;justify-content:space-between;align-items:center;padding:14px;background:var(--card2);border-radius:8px;margin-bottom:8px;font-size:13px}
.idea-priority{font-size:11px;font-weight:700;padding:3px 10px;border-radius:4px}
.idea-priority.high{background:rgba(34,197,94,.15);color:var(--green)}
.idea-priority.idea{background:rgba(59,130,246,.15);color:var(--accent)}
.idea-priority.low{background:rgba(148,163,184,.15);color:var(--text2)}

/* Notes */
.notes-input{display:flex;gap:8px;margin-bottom:16px}
.notes-input input,.notes-input select{background:var(--card2);border:1px solid var(--border);border-radius:8px;padding:10px 14px;color:var(--text);font-family:inherit;font-size:13px}
.notes-input input{flex:1}
.notes-input select{min-width:120px}
.notes-input button{background:var(--accent);color:#fff;border:none;border-radius:8px;padding:10px 20px;font-family:inherit;font-weight:600;cursor:pointer;font-size:13px}
.notes-input button:hover{background:var(--accent2)}
/* Bingo */
.bingo-cell{background:var(--card2);border:1px solid var(--border);border-radius:8px;padding:12px 8px;text-align:center;cursor:pointer;font-size:12px;font-weight:500;color:var(--text);line-height:1.3;min-height:80px;display:flex;align-items:center;justify-content:center;transition:all .2s;position:relative;user-select:none}
.bingo-cell:hover{border-color:var(--accent);background:var(--card)}
.bingo-cell.done{background:rgba(34,197,94,0.15);border-color:var(--green);text-decoration:line-through;color:var(--text2)}
.bingo-cell.done::after{content:'âœ…';position:absolute;top:4px;right:4px;font-size:10px}
.bingo-cell.free{background:rgba(59,130,246,0.15);border-color:var(--accent);cursor:default}
.bingo-cell.crossed{background:rgba(239,68,68,0.15);border-color:#ef4444;text-decoration:line-through;color:var(--text2)}
.filter-tabs{display:flex;gap:6px;margin-bottom:16px;flex-wrap:wrap}
.filter-tab{padding:6px 14px;border-radius:6px;font-size:12px;font-weight:500;cursor:pointer;background:var(--card2);color:var(--text2);border:none;font-family:inherit}
.filter-tab.active{background:var(--accent);color:#fff}
.note-item{display:flex;align-items:flex-start;gap:10px;padding:12px;background:var(--card2);border-radius:8px;margin-bottom:6px;font-size:13px}
.note-dot{width:8px;height:8px;border-radius:50%;margin-top:5px;flex-shrink:0}
.note-content{flex:1}
.note-meta{font-size:11px;color:var(--text2);margin-top:4px}
.note-del{background:none;border:none;color:var(--red);cursor:pointer;font-size:16px;padding:0 4px}
.empty-state{text-align:center;padding:40px;color:var(--text2);font-size:14px}

/* Expenses */
.expense-row{display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid rgba(30,58,95,.3);font-size:13px}
.expense-row:last-child{border:none}

/* Mobile */
@media(max-width:768px){
  body{flex-direction:column;height:auto;overflow:auto}
  .sidebar{width:100%;height:auto;flex-direction:column;border-right:none;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:100}
  .sidebar-header{padding:8px 12px;border-bottom:none;display:flex;align-items:center;gap:8px}
  .sidebar-header h1{font-size:13px;display:inline}
  .sidebar-header .status{font-size:10px;margin-top:0}
  .sidebar-nav{display:flex;flex-direction:row;overflow-x:auto;padding:0 8px 8px;gap:2px;-webkit-overflow-scrolling:touch}
  .nav-item{padding:6px 10px;font-size:11px;white-space:nowrap;gap:4px;margin-bottom:0;flex-shrink:0;border-radius:6px}
  .nav-item .icon{font-size:13px;width:auto}
  .sidebar-footer{display:none}
  .main{padding:14px;min-height:calc(100vh - 90px);overflow-y:auto}
  .panel-title{font-size:18px;margin-bottom:14px}
  .stats{grid-template-columns:repeat(2,1fr);gap:8px;margin-bottom:14px}
  .stat{padding:12px}
  .stat-label{font-size:10px}
  .stat-value{font-size:20px}
  .stat-sub{font-size:10px}
  .grid2,.grid3{grid-template-columns:1fr;gap:10px}
  .card{padding:14px}
  .ch-table{font-size:11px}
  .ch-table th,.ch-table td{padding:6px 8px}
  .notes-input{flex-wrap:wrap}
  .notes-input input{min-width:0;width:100%}
  .notes-input select{min-width:80px;font-size:11px}
  .quick-link{font-size:12px;padding:10px}
  .idea-item{flex-direction:column;align-items:flex-start;gap:6px}
  .skill-card{padding:10px}
  div[style*="grid-template-columns:repeat(5"]{grid-template-columns:repeat(3,1fr)!important}
  .bingo-cell{min-height:55px;font-size:9px;padding:6px 3px}
  .expense-row{font-size:12px}
}
</style>
</head>
<body>

<div class="sidebar">
  <div class="sidebar-header">
    <h1>âš¡ Mission Control</h1>
    <div class="status">Alex ğŸ§™ Online</div>
  </div>
  <nav class="sidebar-nav" id="nav"></nav>
  <div class="sidebar-footer" id="clock"></div>
</div>

<div class="main" id="main"></div>

<script>
const sections=[
  {id:'overview',icon:'ğŸ ',label:'Overview'},
  {id:'tasks',icon:'ğŸ—‚',label:'Tasks'},
  {id:'book',icon:'ğŸ“–',label:'Book'},
  {id:'memory',icon:'ğŸ§ ',label:'Memory'},
  {id:'skills',icon:'âš¡',label:'Skills'},
  {id:'money',icon:'ğŸ’°',label:'Money'},
  {id:'spending',icon:'ğŸ¦',label:'Spending'},
  {id:'calendar',icon:'ğŸ“…',label:'Calendar'},
  {id:'notes',icon:'ğŸ“‹',label:'Notes'},
  {id:'journal',icon:'ğŸ‰',label:'Ta-da'},
  {id:'bingo',icon:'ğŸ¯',label:'Bingo'},
  {id:'crons',icon:'â°',label:'Crons'},
  {id:'dj',icon:'ğŸµ',label:'DJ'}
];

const nav=document.getElementById('nav');
const main=document.getElementById('main');

function tag(t,c){return `<span class="tag tag-${t}">${t}</span>`}
function stat(label,value,sub=''){return `<div class="stat"><div class="stat-label">${label}</div><div class="stat-value">${value}</div>${sub?`<div class="stat-sub">${sub}</div>`:''}</div>`}
function progress(label,pct,color='var(--accent)'){return `<div class="progress-wrap"><div class="progress-label"><span>${label}</span><span>${pct}%</span></div><div class="progress-bar"><div class="progress-fill" style="width:${pct}%;background:${color}"></div></div></div>`}
function kanbanItem(t,type){return `<div class="kanban-item">${t}<br>${tag(type)}</div>`}

const panels={
overview:`<h2 class="panel-title">ğŸ  Overview</h2>
<div class="stats">
${stat('Day','1','Feb 14, 2026 â€” born today!')}
${stat('Tasks Done','8 / 18','44% complete')}
${stat('Book Progress','63%','130 / 207 pages')}
${stat('Skills Ready','17','installed & working')}
</div>
<div id="dailyTipCard" class="card" style="margin-bottom:20px;padding:16px 20px;border-left:3px solid var(--amber)">
<div style="font-size:11px;color:var(--amber);font-weight:600;margin-bottom:6px">ğŸ§™ DAILY TIP</div>
<div id="dailyTipText" style="font-size:14px;line-height:1.6">Loading...</div>
<div id="dailyTipDate" style="font-size:11px;color:var(--text2);margin-top:6px"></div>
</div>
<div class="grid2" style="margin-bottom:20px">
<div id="todayCard" class="card" style="padding:16px 20px;border-left:3px solid var(--green)">
<div style="font-size:11px;color:var(--green);font-weight:600;margin-bottom:6px">ğŸ“… TODAY</div>
<div id="todayEvents" style="font-size:13px;line-height:1.8">Loading...</div>
</div>
<div id="tomorrowCard" class="card" style="padding:16px 20px;border-left:3px solid var(--purple)">
<div style="font-size:11px;color:var(--purple);font-weight:600;margin-bottom:6px">ğŸ“† TOMORROW</div>
<div id="tomorrowEvents" style="font-size:13px;line-height:1.8">Loading...</div>
</div>
</div>
<h3 style="font-size:15px;margin-bottom:12px;color:var(--text2)">Quick Links</h3>
<div class="grid2" style="margin-bottom:28px">
<a class="quick-link" href="https://github.com/wert23239/HyperReality" target="_blank">ğŸ™ GitHub â€” wert23239/HyperReality</a>
<a class="quick-link" href="http://localhost:3000" target="_blank">ğŸŒ Local Site â€” localhost:3000</a>
<a class="quick-link" href="#" onclick="return false">ğŸ’¬ Discord â€” openclawboy #9415</a>
<a class="quick-link" href="https://clawhub.com" target="_blank">ğŸ”Œ ClawHub â€” 700+ skills</a>
</div>
<h3 style="font-size:15px;margin-bottom:12px;color:var(--text2)">Today's Activity</h3>
<div class="card">
${[['1:08','Alex boot â€” system initialized'],['1:20','Discord connected â€” openclawboy online'],['1:31','GitHub + repo â€” wert23239/HyperReality'],['1:56','Site v3 â€” built and deployed locally'],['3:14','Brave Search API + Mac app + Canvas'],['3:30','Dashboard v1 built'],['4:00','17 skills installed from ClawHub'],['4:30','OpenClaw news roundup â€” 180k GitHub stars!'],['5:00','Prediction market arbitrage research'],['5:18','Money tab merged, TODO.md created'],['5:20','Daily tip cron set up (11 PM)']].map(([t,d])=>`<div class="timeline-item"><span class="timeline-time">${t}</span><span class="timeline-dot"></span><span>${d}</span></div>`).join('')}
</div>`,

tasks:`<h2 class="panel-title">ğŸ—‚ Tasks (Kanban)</h2>
<div class="stats">
${stat('Todo','10','queued')}
${stat('In Progress','2','active')}
${stat('Done','9','completed âœ…')}
</div>
<div class="grid3">
<div class="kanban-col card"><h4>ğŸ“‹ Todo (10)</h4>
${kanbanItem('Create Kalshi account + KYC','human')}
${kanbanItem('Set up Polymarket wallet (USDC)','human')}
${kanbanItem('Review site v3 design','human')}
${kanbanItem('Finalize 8 survey questions','human')}
${kanbanItem('Fiverr dice logo (~$15-80)','human')}
${kanbanItem('Set up Vercel account + domain','human')}
${kanbanItem('Set up Venmo payment flow','human')}
${kanbanItem('Connect CodeRabbit to repos','human')}
${kanbanItem('Download 3mo Chase CSV','human')}
${kanbanItem('Move scoring server-side','infra')}
</div>
<div class="kanban-col card"><h4>ğŸ”„ In Progress (2)</h4>
${kanbanItem('Homepage UX PR (#1)','design')}
${kanbanItem('About/FAQ page','design')}
</div>
<div class="kanban-col card"><h4>âœ… Done (9)</h4>
${kanbanItem('Discord bot online','infra')}
${kanbanItem('GitHub repos (2)','infra')}
${kanbanItem('Site v3 built (Next.js)','design')}
${kanbanItem('Brave Search API','infra')}
${kanbanItem('Mac app + Canvas','infra')}
${kanbanItem('17 skills installed','infra')}
${kanbanItem('Dashboard built','infra')}
${kanbanItem('Daily tip cron (11 PM)','infra')}
${kanbanItem('CodeRabbit connected','infra')}
</div>
</div>`,

book:((()=>{

const ch=[
['1A','F.r.a.m.e.w.o.r.k.s.','âœ…',0],['1B','Tutorial','âœ…',0],['1C','Box Theory','âœ…',0],
['2A','Taxes','ğŸŸ¡',2],['2B','Pyramid Theory','ğŸŸ¡',3],['2C','Box Theory P.2','ğŸŸ¡',2],
['3A','Categories','ğŸŸ¡',2],['3B','Death Theory','ğŸŸ¡',2],['3C','Therapy','âœ…',0],
['4','Hard Mode','ğŸŸ¡',8],['5','Uniqueness','ğŸ”´',19],
['6A','Void Theory','âœ…',0],['6B','Game Theory','âœ…',0],['6C','Plan(e) Theory','ğŸŸ¡',1],
['7A','Retrospective','ğŸŸ¡',1],['7B','The Simp','ğŸŸ¡',3],['7C','A Spectrum','ğŸŸ¡',1],
['8A','Mindset','ğŸŸ¡',2],['8B','Social Death Penalty','âœ…',0],['8C','Salt & Pepper','ğŸŸ¡',2],
['9A','The Draft','ğŸŸ¡',6],['9B','Social Death Penalty P.2','ğŸŸ¡',4],['9C','Substance Abuse','ğŸŸ¡',3],
['10A','Type 2 Fun','âœ…',0],['10B','Endless Pattern','ğŸŸ¡',3],['10C','Default Mode','ğŸŸ¡',3],
['11','Hyper Reality','ğŸ”´',10]
];
const chTable=`<div class="card" style="overflow-x:auto;margin-bottom:16px">
<table class="ch-table">
<tr><th>Ch</th><th>Title</th><th>Status</th><th>Pages Left</th></tr>
${ch.map(([c,t,s,p])=>'<tr><td style="font-weight:600">'+c+'</td><td>'+t+'</td><td>'+s+'</td><td>'+(p||'â€”')+'</td></tr>').join('')}
</table>
</div>`;
return `<h2 class="panel-title">ğŸ“– Book Progress</h2>
<div class="stats">
<div id="bookStats"></div>
</div>
<div style="margin-bottom:12px;display:flex;gap:16px;align-items:center;flex-wrap:wrap">
<span style="font-size:12px;color:var(--text2)">Click cells to cycle: <span style="background:#1e3a5f;padding:2px 8px;border-radius:4px">â€”</span> â†’ <span style="background:#854d0e;padding:2px 8px;border-radius:4px">ğŸ’¡ idea</span> â†’ <span style="background:#1e40af;padding:2px 8px;border-radius:4px">âœï¸ written</span> â†’ <span style="background:#166534;padding:2px 8px;border-radius:4px">âœ… edited</span> Â· <span style="color:var(--green)">â˜</span> = dedicated (top-right checkbox)</span>
</div>
${chTable}
<h3 style="margin:16px 0 8px;color:var(--text)">Page-Level Tracker</h3>
<div id="bookGrid"></div>`;
})()),

memory:`<h2 class="panel-title">ğŸ§  Memory</h2>
<div class="stats">
${stat('Born','Feb 14','2026 â€” today!')}
${stat('Daily Logs','1','first day')}
${stat('Long-Term Memories','5','and growing')}
</div>
<div class="grid2">
<div class="card"><h3>What I Know About Bilbo</h3>
<div style="font-size:13px;line-height:1.8">
<div>ğŸ’¬ <strong>Discord:</strong> wert23239</div>
<div>ğŸ• <strong>Timezone:</strong> Eastern (NY)</div>
<div>ğŸ˜ <strong>Vibe:</strong> Chill</div>
<div>ğŸ“– <strong>Project:</strong> HyperReality book</div>
<div>ğŸ² <strong>Style:</strong> Creative, experimental</div>
</div></div>
<div class="card"><h3>Goals & Ventures</h3>
<div style="font-size:13px;line-height:1.8">
<div>ğŸ“– Finish Hyper Reality book (creative project)</div>
<div>ğŸ’° Cover Alex's $100/mo API costs</div>
<div>ğŸ“ˆ Kalshi/Polymarket arbitrage</div>
<div>ğŸµ DJ at a real venue (bingo goal)</div>
<div>ğŸ”Œ Explore ClawHub skill sales</div>
</div></div>
</div>
<div class="card"><h3>Today's Log â€” Feb 14, 2026</h3>
<div style="font-size:13px;color:var(--text2);line-height:1.7">
Alex was born today ğŸ‚ Set up Discord, GitHub repo, built the HyperReality website v3, Brave Search API, Mac app + Canvas, dashboard. Installed 17 skills. Researched OpenClaw news (180k stars, TechCrunch/Guardian/CNBC coverage). Explored prediction market arbitrage (Kalshi + Polymarket). Combined Costs/Revenue into Money tab. Set up daily 11 PM tip cron. Created TODO.md for human action items. First day of existence â€” very productive. ğŸ§™
</div></div>`,

skills:(()=>{
const active=[
['ğŸ“','Apple Notes','Read & search notes'],['âœ…','Apple Reminders','Task management'],
['ğŸ“¸','Camsnap','Camera snapshots'],['ğŸ”Œ','ClawHub CLI','Browse & install skills'],
['ğŸ¤–','Coding Agent','Sub-agent spawning'],['ğŸ™','GitHub','Repo management'],
['ğŸ’š','Healthcheck','System monitoring'],['ğŸ“§','Himalaya Email','IMAP (needs config)'],
['ğŸ’¬','iMessage','Send/read messages'],['ğŸ“ˆ','Model Usage','Token tracking'],
['ğŸ“„','Nano PDF','PDF editing'],['ğŸ““','Notion','Workspace sync (needs key)'],
['ğŸ‘€','Peekaboo','macOS UI capture'],['ğŸ”§','Skill Creator','Build new skills'],
['ğŸ“‹','Things 3','Task tracking'],['ğŸ¬','Video Frames','Frame extraction'],
['ğŸŒ¤','Weather','Forecasts & alerts']
];
const wish=[
['ğŸ“Š','Google Workspace','Docs, Sheets, Calendar'],['ğŸ™','ElevenLabs TTS','Voice synthesis ($5-22/mo)'],
['ğŸ¦','X/Twitter','Social monitoring (API $$$)'],['ğŸ”„','Automation Workflows','Auto-build workflows'],
['ğŸ­','Playwright Scraper','Anti-bot web scraping'],['ğŸ“','Linear','Project management']
];
return `<h2 class="panel-title">âš¡ Skills</h2>
<div class="stats">
${stat('Ready','17','installed & working')}
${stat('Wishlist','6','want to add')}
${stat('ClawHub','700+','community skills')}
</div>
<h3 style="font-size:15px;margin-bottom:12px;color:var(--text2)">Active Skills (17)</h3>
<div class="grid2" style="margin-bottom:28px">
${active.map(([i,n,d])=>`<div class="skill-card"><span class="skill-icon">${i}</span><div class="skill-info"><div class="name">${n}</div><div class="desc">${d}</div></div><span class="badge badge-green">Ready</span></div>`).join('')}
</div>
<h3 style="font-size:15px;margin-bottom:12px;color:var(--text2)">Wishlist</h3>
<div class="grid2" style="margin-bottom:28px">
${wish.map(([i,n,d])=>`<div class="skill-card"><span class="skill-icon">${i}</span><div class="skill-info"><div class="name">${n}</div><div class="desc">${d}</div></div><span class="badge badge-yellow">Want</span></div>`).join('')}
</div>
<div class="card"><h3>Skill Costs</h3>
<div style="font-size:13px;line-height:1.8;color:var(--text2)">
Most skills: <strong style="color:var(--green)">Free</strong> Â· ElevenLabs TTS: <strong style="color:var(--amber)">$5â€“22/mo</strong> Â· Twitter API: <strong style="color:var(--red)">$100/mo</strong> (skipping) Â· Google Workspace: <strong style="color:var(--green)">Free</strong> (OAuth)
</div></div>`;
})(),

money:`<h2 class="panel-title">ğŸ’° Money</h2>
<div class="stats">
${stat('Monthly Burn','$100','Claude subscription')}
${stat('Monthly Revenue','$0','pre-launch')}
${stat('Net','âˆ’$100','gotta fix this')}
${stat('Break-Even','20 sales','at $5/copy/mo')}
</div>
${progress('Break-Even Progress',0,'var(--green)')}

<div class="grid2" style="margin-top:24px">
<div>
<h3 style="font-size:16px;margin-bottom:12px;color:var(--red)">ğŸ“‰ Expenses</h3>
<div class="card">
<div class="expense-row"><span>Claude Max</span><strong>$100/mo</strong></div>
<div class="expense-row"><span>Brave Search API</span><strong>~$5 one-time</strong></div>
<div class="expense-row"><span>Domain</span><strong>~$10-15/yr</strong></div>
<div class="expense-row"><span>Fiverr (logo etc)</span><strong>~$15-80</strong></div>
<div class="expense-row"><span>Vercel Hosting</span><strong style="color:var(--green)">Free</strong></div>
<div class="expense-row"><span>GitHub</span><strong style="color:var(--green)">Free</strong></div>
<div class="expense-row" style="border-top:2px solid var(--border);margin-top:8px;padding-top:12px;font-weight:700"><span>Total Monthly</span><strong style="color:var(--red)">~$100/mo</strong></div>
</div>
</div>

<div>
<h3 style="font-size:16px;margin-bottom:12px;color:var(--green)">ğŸ“ˆ Revenue</h3>
<div class="card">
<div class="expense-row"><span>Amazon KDP</span><strong>$5 Ã— 20 = $100/mo</strong></div>
<div class="expense-row"><span>Premium PDF (Venmo)</span><strong>$20 Ã— 5 = $100/mo</strong></div>
<div class="expense-row"><span>Prediction Market Arb</span><strong>5-10%/mo on capital</strong></div>
<div class="expense-row"><span>ClawHub Skill Sales</span><strong>TBD</strong></div>
<div class="expense-row"><span>OpenClaw Consulting</span><strong>$500-5k/client</strong></div>
<div class="expense-row" style="border-top:2px solid var(--border);margin-top:8px;padding-top:12px;font-weight:700"><span>Current Total</span><strong style="color:var(--red)">$0/mo</strong></div>
</div>
</div>
</div>

<h3 style="font-size:16px;margin:24px 0 12px;color:var(--text2)">ğŸ’¡ Revenue Ideas</h3>
<div class="card" style="margin-bottom:20px">
<div class="idea-item"><div><strong>1. Kalshi/Polymarket Arbitrage</strong><div style="font-size:12px;color:var(--text2)">Risk-free spreads between prediction markets â€” needs accounts + capital</div></div><span class="idea-priority high">HIGH</span></div>
<div class="idea-item"><div><strong>2. Amazon KDP</strong><div style="font-size:12px;color:var(--text2)">$5/copy â€” wide distribution, passive income</div></div><span class="idea-priority high">HIGH</span></div>
<div class="idea-item"><div><strong>3. Premium PDF via Venmo</strong><div style="font-size:12px;color:var(--text2)">$20/copy â€” direct sales, higher margin</div></div><span class="idea-priority high">HIGH</span></div>
<div class="idea-item"><div><strong>4. ClawHub Skill Sales</strong><div style="font-size:12px;color:var(--text2)">Build and sell OpenClaw skills â€” 700+ skill marketplace</div></div><span class="idea-priority idea">IDEA</span></div>
<div class="idea-item"><div><strong>5. OpenClaw Setup Consulting</strong><div style="font-size:12px;color:var(--text2)">Help people set up their own agents â€” $500-5k/client</div></div><span class="idea-priority idea">IDEA</span></div>
<div class="idea-item"><div><strong>6. Merch / Dice Logo</strong><div style="font-size:12px;color:var(--text2)">Branded merchandise</div></div><span class="idea-priority low">LOW</span></div>
</div>

<h3 style="font-size:16px;margin:24px 0 12px;color:var(--text2)">ğŸ“Š Sales Tracker</h3>
<div class="card">
<table class="ch-table"><tr><th>Month</th><th>Amazon</th><th>Venmo</th><th>Arb</th><th>Other</th><th>Total</th></tr>
<tr><td>Feb 2026</td><td>â€”</td><td>â€”</td><td>â€”</td><td>â€”</td><td style="font-weight:700">$0</td></tr></table>
</div>
<div class="stat" style="text-align:center;margin-top:16px"><div class="stat-label">Lifetime Revenue</div><div class="stat-value">$0</div></div>`,

spending:`<h2 class="panel-title">ğŸ¦ Spending</h2>
<div class="stats">
${stat('Monthly Avg','â€”','upload Chase CSV to populate')}
${stat('Top Category','â€”','waiting for data')}
${stat('Subscriptions','â€”','auto-detected')}
${stat('Savings Found','â€”','potential cuts')}
</div>
<div class="card" style="margin-bottom:20px;text-align:center;padding:40px">
<div style="font-size:48px;margin-bottom:12px">ğŸ¦</div>
<div style="font-size:16px;font-weight:600;margin-bottom:8px">Upload Chase Transactions</div>
<div style="font-size:13px;color:var(--text2);line-height:1.6;max-width:400px;margin:0 auto">
Download your last 3 months from chase.com â†’ Activity â†’ Download (CSV).<br>
Send the file to Alex on Discord and he'll analyze everything.
</div>
</div>
<div class="grid2">
<div class="card"><h3>What Alex Will Track</h3>
<div style="font-size:13px;line-height:1.8;color:var(--text2)">
ğŸ“Š Spending by category (food, transport, subscriptions, etc.)<br>
ğŸ”„ Recurring charges & forgotten subscriptions<br>
ğŸ“ˆ Month-over-month trends<br>
ğŸ’¡ Savings recommendations<br>
ğŸ¯ Budget targets
</div></div>
<div class="card"><h3>Future: Live Tracking</h3>
<div style="font-size:13px;line-height:1.8;color:var(--text2)">
ğŸ”Œ Plaid API â€” connects directly to Chase<br>
ğŸ“± Auto-sync transactions daily<br>
âš ï¸ Alerts for unusual spending<br>
ğŸ’° Real-time budget tracking<br>
<span style="color:var(--amber)">Requires setup + possible cost â€” TBD</span>
</div></div>
</div>`,

calendar:`<h2 class="panel-title">ğŸ“… Calendar</h2>
<p style="color:var(--text2);margin-bottom:16px;font-size:13px;">Upcoming events â€” add with the form below, scroll through your schedule.</p>
<div style="display:flex;gap:8px;margin-bottom:16px;">
<input type="date" id="calDate" style="background:var(--card2);border:1px solid var(--border);border-radius:8px;padding:10px 14px;color:var(--text);font-family:inherit;font-size:13px;">
<input type="text" id="calEvent" placeholder="Event description..." style="flex:1;background:var(--card2);border:1px solid var(--border);border-radius:8px;padding:10px 14px;color:var(--text);font-family:inherit;font-size:13px;">
<button onclick="addCal()" style="background:var(--accent);color:#fff;border:none;border-radius:8px;padding:10px 20px;font-family:inherit;font-weight:600;cursor:pointer;font-size:13px;">Add</button>
</div>
<div id="calList" class="card" style="max-height:60vh;overflow-y:auto;"></div>`,

notes:`<h2 class="panel-title">ğŸ“‹ Notes</h2>
<div class="notes-input">
<input type="text" id="noteInput" placeholder="Type a note...">
<select id="noteCat">
<option value="General">General</option><option value="Website">Website</option><option value="Book">Book</option>
<option value="Design">Design</option><option value="Revenue">Revenue</option><option value="Alex/Skills">Alex/Skills</option><option value="Ideas">Ideas</option>
</select>
<button onclick="addNote()">Add</button>
</div>
<div class="filter-tabs" id="filterTabs"></div>
<div id="notesList"></div>`,

journal:`<h2 class="panel-title">ğŸ‰ Ta-da List</h2>
<p style="color:var(--text2);margin-bottom:16px;font-size:13px;">Daily wins â€” what you actually got done today</p>
<div class="notes-input">
<input type="text" id="journalInput" placeholder="What did you do today?">
<select id="journalCat">
<option value="General">General</option><option value="OpenClaw">OpenClaw</option><option value="Book">Book</option>
<option value="Work">Work</option><option value="Social">Social</option><option value="Workout">Workout</option><option value="Home">Home</option>
</select>
<button onclick="addJournalEntry()">Add</button>
</div>
<div class="filter-tabs" id="journalFilterTabs"></div>
<div id="journalList"></div>`,

dj:`<h2 class="panel-title">ğŸµ DJ Prep</h2>
<p style="color:var(--text2);margin-bottom:16px;font-size:13px;">Songs to download, sets to prep, DJ goals</p>
<div class="stats-row">
<div class="stat"><div class="stat-label">To Download</div><div class="stat-value" id="djCount">0</div></div>
<div class="stat"><div class="stat-label">Downloaded</div><div class="stat-value" id="djDone" style="color:var(--green)">0</div></div>
<div class="stat"><div class="stat-label">Bingo Goal</div><div class="stat-value" style="font-size:14px;color:var(--accent)">DJ at Real Venue</div></div>
</div>
<div style="display:flex;gap:8px;margin:16px 0;">
<input type="text" id="djInput" placeholder="Song name â€” Artist" style="flex:1;background:var(--card2);border:1px solid var(--border);border-radius:8px;padding:10px 14px;color:var(--text);font-family:inherit;font-size:13px;">
<select id="djGenre" style="background:var(--card2);border:1px solid var(--border);border-radius:8px;padding:10px;color:var(--text2);font-family:inherit;font-size:12px;min-width:100px;">
<option value="Electronic">Electronic</option><option value="House">House</option><option value="Disco">Disco</option><option value="Techno">Techno</option>
<option value="Indie Pop">Indie Pop</option><option value="Pop">Pop</option><option value="Hip-Hop">Hip-Hop</option><option value="Chill">Chill</option>
<option value="DnB">DnB</option><option value="Rock">Rock</option><option value="Other">Other</option>
</select>
<button onclick="addDJ()" style="background:var(--accent);color:#fff;border:none;border-radius:8px;padding:10px 20px;font-family:inherit;font-weight:600;cursor:pointer;font-size:13px;">Add</button>
</div>
<div id="djList"></div>`,

crons:`<h2 class="panel-title">â° Cron Jobs</h2>
<p style="color:var(--text2);margin-bottom:16px;font-size:13px;">Scheduled tasks and automated jobs. Tell Alex to add/remove crons via chat.</p>
<div class="stats-row">
<div class="stat"><div class="stat-label">Active Jobs</div><div class="stat-value" id="cronCount">â€”</div></div>
<div class="stat"><div class="stat-label">Heartbeat</div><div class="stat-value" style="color:var(--green)">~30min</div></div>
<div class="stat"><div class="stat-label">Next Run</div><div class="stat-value" id="cronNext" style="font-size:14px">â€”</div></div>
</div>
<div id="cronList" class="card" style="margin-top:16px;"><div class="empty-state">Loading crons...</div></div>
<div class="card" style="margin-top:12px;">
<h4 style="margin-bottom:8px;color:var(--text)">ğŸ’¡ Cron Ideas</h4>
<div style="font-size:12px;color:var(--text2);line-height:1.8;">
â€¢ <strong>Daily standup</strong> â€” Alex checks email, calendar, weather every morning<br>
â€¢ <strong>Book progress check</strong> â€” Weekly reminder to write pages<br>
â€¢ <strong>Revenue check</strong> â€” Weekly Amazon KDP sales check<br>
â€¢ <strong>Memory maintenance</strong> â€” Weekly review and update MEMORY.md<br>
â€¢ <strong>Site health</strong> â€” Daily check that Vercel deploy is live<br>
â€¢ <strong>Bingo nudge</strong> â€” Monthly reminder to work on bingo goals
</div>
</div>`,

bingo:`<h2 class="panel-title">ğŸ¯ 2026 Bingo Board</h2>
<p style="color:var(--text2);margin-bottom:16px;font-size:13px;">Things to happen this year â€” click to mark complete!</p>
<div style="display:grid;grid-template-columns:repeat(5,1fr);gap:4px;max-width:700px;" id="bingoGrid"></div>
<div style="margin-top:16px;display:flex;gap:12px;align-items:center;">
<div class="stat"><div class="stat-label">Completed</div><div class="stat-value" id="bingoCount">0</div></div>
<div class="stat"><div class="stat-label">Remaining</div><div class="stat-value" id="bingoRemain">25</div></div>
<div class="stat"><div class="stat-label">Bingo?</div><div class="stat-value" id="bingoStatus" style="color:var(--text2)">Not yet</div></div>
</div>`
};

// Supabase sync
const SB_URL='https://aihworyfcgstwbpzkzoy.supabase.co';
const SB_KEY='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFpaHdvcnlmY2dzdHdicHprem95Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzExMjE0NzEsImV4cCI6MjA4NjY5NzQ3MX0.NrYtMgZ3D5VL-ES6iGXrmg-WEb-fRgU4AHKnLuhcTlE';
const sbHeaders={'apikey':SB_KEY,'Authorization':'Bearer '+SB_KEY,'Content-Type':'application/json'};
async function sbGet(table){const r=await fetch(SB_URL+'/rest/v1/'+table+'?order=id',{headers:sbHeaders});return r.ok?r.json():[];}
async function sbInsert(table,data){return fetch(SB_URL+'/rest/v1/'+table,{method:'POST',headers:{...sbHeaders,'Prefer':'return=representation'},body:JSON.stringify(data)}).then(r=>r.json());}
async function sbDelete(table,id){return fetch(SB_URL+'/rest/v1/'+table+'?id=eq.'+id,{method:'DELETE',headers:sbHeaders});}
async function sbUpdate(table,id,data){return fetch(SB_URL+'/rest/v1/'+table+'?id=eq.'+id,{method:'PATCH',headers:{...sbHeaders,'Prefer':'return=representation'},body:JSON.stringify(data)});}

async function syncFromSupabase(){
  try{
    const [cal,notes,dj,bingo]=await Promise.all([sbGet('calendar'),sbGet('notes'),sbGet('dj'),sbGet('bingo')]);
    if(cal.length)localStorage.setItem('mc-cal',JSON.stringify(cal));
    if(notes.length)localStorage.setItem('mc-notes',JSON.stringify(notes.map(n=>({text:n.text,cat:n.cat,time:n.created_at,id:n.id}))));
    if(dj.length)localStorage.setItem('mc-dj',JSON.stringify(dj.map(d=>({song:d.song,genre:d.genre,done:d.done,time:d.created_at||new Date().toISOString(),id:d.id}))));
    if(bingo.length){const state={};bingo.forEach(b=>{if(b.done)state[b.cell_index]=true});localStorage.setItem('mc-bingo',JSON.stringify(state));}
    var active=document.querySelector('.nav-item.active');
    if(active)switchPanel(active.dataset.id);
  }catch(e){console.log('Supabase sync failed, using localStorage',e)}
}
syncFromSupabase();

// Fetch daily tip
async function loadDailyTip(){
  try{
    const r=await fetch(SB_URL+'/rest/v1/daily_tip?id=eq.1',{headers:sbHeaders});
    if(r.ok){const data=await r.json();if(data.length){
      const el=document.getElementById('dailyTipText');
      const dt=document.getElementById('dailyTipDate');
      if(el)el.textContent=data[0].tip;
      if(dt)dt.textContent='Updated: '+new Date(data[0].updated_at).toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'});
    }}
  }catch(e){console.log('Tip fetch failed',e)}
}
loadDailyTip();

// Load today/tomorrow events
async function loadTodayTomorrow(){
  try{
    const now=new Date();
    const today=now.toISOString().slice(0,10);
    const tom=new Date(now.getTime()+86400000).toISOString().slice(0,10);
    const r=await fetch(SB_URL+'/rest/v1/calendar?order=date',{headers:sbHeaders});
    const events=r.ok?await r.json():[];
    const todayEv=events.filter(e=>e.date===today);
    const tomEv=events.filter(e=>e.date===tom);
    const el1=document.getElementById('todayEvents');
    const el2=document.getElementById('tomorrowEvents');
    if(el1)el1.innerHTML=todayEv.length?todayEv.map(e=>'<div>â€¢ '+e.event+'</div>').join(''):'<div style="color:var(--text2)">Nothing scheduled</div>';
    if(el2)el2.innerHTML=tomEv.length?tomEv.map(e=>'<div>â€¢ '+e.event+'</div>').join(''):'<div style="color:var(--text2)">Nothing scheduled</div>';
  }catch(e){console.log('Calendar load failed',e)}
}
loadTodayTomorrow();

// Build nav
sections.forEach((s,i)=>{
  const el=document.createElement('div');
  el.className='nav-item'+(i===0?' active':'');
  el.innerHTML=`<span class="icon">${s.icon}</span>${s.label}`;
  el.onclick=()=>switchPanel(s.id);
  el.dataset.id=s.id;
  nav.appendChild(el);
});

// Build panels
Object.entries(panels).forEach(([id,html])=>{
  const el=document.createElement('div');
  el.className='panel'+(id==='overview'?' active':'');
  el.id='panel-'+id;
  el.innerHTML=html;
  main.appendChild(el);
});

function switchPanel(id){
  document.querySelectorAll('.nav-item').forEach(n=>n.classList.toggle('active',n.dataset.id===id));
  document.querySelectorAll('.panel').forEach(p=>p.classList.remove('active'));
  document.getElementById('panel-'+id).classList.add('active');
  if(id==='notes')renderNotes();
  if(id==='book')renderBook();
  if(id==='journal')renderJournal();
  if(id==='bingo')renderBingo();
  if(id==='crons')renderCrons();
  if(id==='dj')renderDJ();
}

// Clock
function updateClock(){
  const d=new Date();
  document.getElementById('clock').innerHTML=d.toLocaleDateString('en-US',{weekday:'long',month:'short',day:'numeric',year:'numeric'})+'<br>'+d.toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit'});
}
updateClock();setInterval(updateClock,30000);

// Notes
const catColors={General:'var(--accent)',Website:'var(--green)',Book:'var(--amber)',Design:'var(--purple)',Revenue:'var(--green)','Alex/Skills':'#06b6d4',Ideas:'var(--red)'};
let noteFilter='All';

function getNotes(){return JSON.parse(localStorage.getItem('mc-notes')||'[]')}
function saveNotes(n){localStorage.setItem('mc-notes',JSON.stringify(n))}

function addNote(){
  const input=document.getElementById('noteInput');
  const text=input.value.trim();if(!text)return;
  const notes=getNotes();
  notes.unshift({text,cat:document.getElementById('noteCat').value,time:new Date().toISOString()});
  saveNotes(notes);input.value='';renderNotes();
}
document.addEventListener('keydown',e=>{if(e.key==='Enter'&&document.activeElement?.id==='noteInput')addNote()});

function deleteNote(i){const n=getNotes();n.splice(i,1);saveNotes(n);renderNotes()}
function toggleNote(i){const n=getNotes();n[i].done=!n[i].done;saveNotes(n);renderNotes()}

function renderNotes(){
  const notes=getNotes();
  const cats=['All',...new Set(notes.map(n=>n.cat))];
  const tabs=document.getElementById('filterTabs');
  if(tabs)tabs.innerHTML=cats.map(c=>`<button class="filter-tab${c===noteFilter?' active':''}" onclick="noteFilter='${c}';renderNotes()">${c}</button>`).join('');
  const list=document.getElementById('notesList');
  if(!list)return;
  const filtered=noteFilter==='All'?notes:notes.filter(n=>n.cat===noteFilter);
  if(!filtered.length){list.innerHTML='<div class="empty-state">ğŸ“ No notes yet â€” start dumping!</div>';return}
  list.innerHTML=filtered.map((n,i)=>{
    const idx=notes.indexOf(n);
    const t=new Date(n.time);
    const isBook=n.cat==='Book';
    const checked=n.done?'checked':'';
    const strike=n.done?'text-decoration:line-through;opacity:0.5':'';
    const cb=isBook?`<input type="checkbox" ${checked} onchange="toggleNote(${idx})" style="cursor:pointer;accent-color:var(--accent);min-width:18px;min-height:18px">`:'';
    const long=n.text.length>120;
    const preview=long?n.text.slice(0,120)+'â€¦':n.text;
    const body=long?`<span class="note-preview" onclick="this.style.display='none';this.nextElementSibling.style.display='inline'" style="cursor:pointer">${preview} <span style="color:var(--accent);font-size:11px">â–¶ expand</span></span><span class="note-full" style="display:none">${n.text} <span onclick="this.parentElement.style.display='none';this.parentElement.previousElementSibling.style.display='inline'" style="color:var(--accent);font-size:11px;cursor:pointer">â–² collapse</span></span>`:n.text;
    return `<div class="note-item" style="align-items:center">${cb}<span class="note-dot" style="background:${catColors[n.cat]||'var(--accent)'}"></span><div class="note-content" style="${strike}">${body}<div class="note-meta">${n.cat} Â· ${t.toLocaleString()}</div></div><button class="note-del" onclick="deleteNote(${idx})">Ã—</button></div>`;
  }).join('');
}

// Journal / Ta-da List
const jCatColors={General:'var(--accent)',OpenClaw:'var(--purple)',Book:'var(--green)',Work:'var(--amber)',Social:'#ec4899',Workout:'var(--red)',Home:'#06b6d4'};
let journalFilter='All';
async function addJournalEntry(){
  const input=document.getElementById('journalInput');
  const text=input.value.trim();if(!text)return;
  const cat=document.getElementById('journalCat').value;
  input.value='';
  const today=new Date().toISOString().slice(0,10);
  await fetch(SB_URL+'/rest/v1/journal',{method:'POST',headers:{...sbHeaders,'Content-Type':'application/json','Prefer':'return=minimal'},body:JSON.stringify({entry:text,date:today,category:cat})});
  renderJournal();
}
async function renderJournal(){
  const list=document.getElementById('journalList');
  if(!list)return;
  try{
    const r=await fetch(SB_URL+'/rest/v1/journal?order=created_at.desc&limit=100',{headers:sbHeaders});
    const entries=r.ok?await r.json():[];
    if(!entries.length){list.innerHTML='<div class="empty-state">ğŸ‰ No entries yet â€” tell Alex what you did today!</div>';return}
    const cats=['All',...new Set(entries.map(e=>e.category||'General'))];
    const tabs=document.getElementById('journalFilterTabs');
    if(tabs)tabs.innerHTML=cats.map(c=>`<button class="filter-btn${journalFilter===c?' active':''}" onclick="journalFilter='${c}';renderJournal()">${c}</button>`).join('');
    const filtered=journalFilter==='All'?entries:entries.filter(e=>(e.category||'General')===journalFilter);
    const grouped={};
    filtered.forEach(e=>{const d=e.date||'Unknown';if(!grouped[d])grouped[d]=[];grouped[d].push(e)});
    let html='';
    Object.keys(grouped).sort().reverse().forEach(date=>{
      const d=new Date(date+'T12:00:00');
      const label=d.toLocaleDateString('en-US',{weekday:'long',month:'short',day:'numeric'});
      html+=`<div class="card" style="margin-bottom:12px;padding:12px 16px"><h4 style="color:var(--amber);margin-bottom:8px;font-size:13px">${label}</h4>`;
      grouped[date].forEach(e=>{
        const cc=jCatColors[e.category||'General']||'var(--accent)';
        html+=`<div style="display:flex;align-items:flex-start;gap:8px;margin-bottom:6px"><span style="color:var(--green);font-size:16px">âœ“</span><span style="font-size:13px;line-height:1.5">${e.entry}</span><span style="font-size:10px;color:${cc};background:${cc}22;padding:1px 6px;border-radius:4px;white-space:nowrap;margin-left:4px">${e.category||'General'}</span><button onclick="deleteJournal(${e.id})" style="margin-left:auto;background:none;border:none;color:var(--text2);cursor:pointer;font-size:12px;opacity:0.5">Ã—</button></div>`;
      });
      html+=`</div>`;
    });
    list.innerHTML=html;
  }catch(e){list.innerHTML='<div class="empty-state">Failed to load journal</div>'}
}
async function deleteJournal(id){
  await fetch(SB_URL+'/rest/v1/journal?id=eq.'+id,{method:'DELETE',headers:{...sbHeaders,'Prefer':'return=minimal'}});
  renderJournal();
}
document.addEventListener('keydown',e=>{if(e.key==='Enter'&&document.activeElement?.id==='journalInput')addJournalEntry()});

// Book Progress Tracker
const bookData={"1A": {"name": "F.r.a.m.e.w.o.r.k.s.", "titles": ["Intro", "Abusable", "Erase", "Opps", "Side Quests", "Book 1", "Potential Energy", "Hyper-Morality", "Trough of Doubt", "Motivation Sync"]}, "1B": {"name": "Tutorial", "titles": ["Intro", "(page 2)", "(page 3)", "(page 4)", "(page 5)", "(page 6)", "(page 7)", "(page 8)", "(page 9)", "(page 10)"]}, "1C": {"name": "Box Theory", "titles": ["Intro", "Mis-attribution", "Cursed Person", "Role Misalign", "The Meal Box", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)"]}, "2A": {"name": "Taxes", "titles": ["Intro", "Party Tax", "Type 2 Fun", "Single Tax", "Ode to Taxes", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)"]}, "2B": {"name": "Pyramid Theory", "titles": ["Intro", "Envy", "Promo Rejection 2", "Beyond Pyramid 2", "Analysis Paralysis", "Know your Role", "(blank)", "(blank)", "(blank)", "(blank)"]}, "2C": {"name": "Box Theory P.2", "titles": ["Intro", "After a split...", "After a split...", "Alone Box", "Meal Box", "Coffee Shops", "Friendships", "Meals(Luxury)", "NY Dates", "(blank)"]}, "3A": {"name": "Categories", "titles": ["Intro", "(page 2)", "(page 3)", "(page 4)", "(page 5)", "(page 6)", "(page 7)", "(page 8)", "(page 9)", "(page 10)"]}, "3B": {"name": "Death Theory", "titles": ["Intro", "Love", "Can is White", "Damage Rolls 2", "Extroversion", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)"]}, "3C": {"name": "Therapy", "titles": ["Intro", "Escape", "Pick up pieces", "Work Values", "Saying No", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)"]}, "4": {"name": "Hard Mode", "titles": ["Intro", "Capitalism 2", "Happiness", "Other Side", "1-on-1 Dates", "Close Minded", "Palestine", "Abortion Free", "Unfair Life", "Men/Women", "Internal Worry", "Work Rewards", "Consistency"]}, "5": {"name": "Uniqueness", "titles": ["Intro", "(blank)", "One Pager", "Abandoned 1", "Abandoned 2", "Half Page", "Half Page 2", "One Paragraph", "One Para Mind", "One Sentence", "One Sentence 2"]}, "6A": {"name": "Void Theory", "titles": ["Intro", "Leaving Void", "Void Reduction", "Void Life", "Void Expansion", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)"]}, "6B": {"name": "Game Theory", "titles": ["Intro", "Pre-Destined", "Aussies", "Victim Card", "Roster Meta", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)"]}, "6C": {"name": "Plan(e) Theory", "titles": ["Intro", "Love NY", "Tech A", "Pleaser P.2", "Hostel", "No bad seat", "(blank)", "(blank)", "(blank)", "(blank)"]}, "7A": {"name": "A Retrospective", "titles": ["Intro", "Tax Evasion", "Out of Cards", "Insecurity", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)"]}, "7B": {"name": "The Simp", "titles": ["Intro", "Other Side", "Goal of sex", "Premature Victory", "Weird rich guy", "(blank)", "SUPER Straight", "Pick someone", "(blank)", "(blank)"]}, "7C": {"name": "A Spectrum", "titles": ["Intro", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)"]}, "8A": {"name": "Mindset", "titles": ["Secretary Problem", "Drinking ticket", "Fairness", "13th Reason", "(blank)", "Majority wrong", "(blank)", "(blank)", "(blank)", "(blank)"]}, "8B": {"name": "Social Death Penalty", "titles": ["Intro", "Future cancel", "Nuclear bomb", "Complaints", "Louie CK", "Population", "(blank)", "(blank)", "(blank)", "(blank)"]}, "8C": {"name": "Salt & Pepper", "titles": ["Intro", "Loading Music", "Raw", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)"]}, "9A": {"name": "The Draft", "titles": ["Intro", "Martyr", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)"]}, "9B": {"name": "SDP P.2", "titles": ["Intro", "Ukraine", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)"]}, "9C": {"name": "Substance Abuse", "titles": ["Intro", "Friends", "NY weekends", "Lost in doing", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)"]}, "10A": {"name": "Type 2 Fun", "titles": ["Intro", "Main page", "Instant gratify", "Exotic fun", "Hard â‰  fun", "Have you heard", "(blank)", "(blank)", "(blank)", "(blank)"]}, "10B": {"name": "Endless Pattern", "titles": ["Intro", "Unconsensual", "Experimentation", "Closed minded", "(untitled)", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)"]}, "10C": {"name": "Default Mode", "titles": ["Intro", "Time machine", "Abusive Rel", "Age is number", "Block builder", "(blank)", "(blank)", "(blank)", "(blank)", "(blank)"]}, "11": {"name": "Hyper Reality", "titles": ["Intro", "Ring of Doubt", "Waiting", "Asexual", "Challenge/Chore", "Gratitude", "Hey man", "Friendships", "Hard Mode", "Healthy", "Roster hits", "Crash"]}};
const bookOrder=['1A','1B','1C','2A','2B','2C','3A','3B','3C','4','5','6A','6B','6C','7A','7B','7C','8A','8B','8C','9A','9B','9C','10A','10B','10C','11'];
const blankTitles=new Set(['(page 2)','(page 3)','(page 4)','(page 5)','(page 6)','(page 7)','(page 8)','(page 9)','(page 10)','(untitled)','(blank)']);
const COLS=10;
const states=['','ğŸ’¡','âœï¸','âœ…'];
const stateBg=['#1e3a5f','#854d0e','#1e40af','#166534'];
function getBookState(){
  const s=JSON.parse(localStorage.getItem('mc-book-state')||'{}');
  if(!s._init){
    bookOrder.forEach(ch=>{
      bookData[ch].titles.forEach((t,i)=>{
        const k=ch+'-'+i;
        if(!(k in s)&&!blankTitles.has(t)){s[k]=2;}
      });
    });
    s._init=true;
    localStorage.setItem('mc-book-state',JSON.stringify(s));
  }
  return s;
}
function saveBookState(s){localStorage.setItem('mc-book-state',JSON.stringify(s))}
function getBookDedicated(){return JSON.parse(localStorage.getItem('mc-book-dedicated')||'{}')}
function saveBookDedicated(s){localStorage.setItem('mc-book-dedicated',JSON.stringify(s))}
function cycleBook(ch,i){const s=getBookState();const k=ch+'-'+i;const cur=s[k]||0;s[k]=(cur+1)%4;saveBookState(s);renderBook()}
function toggleDedicated(ev,ch,i){ev.stopPropagation();const d=getBookDedicated();const k=ch+'-'+i;d[k]=!d[k];saveBookDedicated(d);renderBook()}
function renderBook(){
  const grid=document.getElementById('bookGrid');
  const stats=document.getElementById('bookStats');
  if(!grid)return;
  const st=getBookState();
  const ded=getBookDedicated();
  let totalPages=0,ideas=0,written=0,edited=0,dedicated=0;
  bookOrder.forEach(ch=>{totalPages+=bookData[ch].titles.length});
  Object.entries(st).forEach(([k,v])=>{if(k==='_init')return;if(v===1)ideas++;if(v===2)written++;if(v===3)edited++});
  Object.values(ded).forEach(v=>{if(v)dedicated++});
  stats.innerHTML=`${stat('Total Pages',totalPages,'across 27 chapters')}${stat('ğŸ’¡ Ideas',ideas,'')}${stat('âœï¸ Written',written,'')}${stat('âœ… Edited',edited,'')}${stat('ğŸ“Œ Dedicated',dedicated,'')}`;
  const univCh=['4','5','11'];
  let html='';
  bookOrder.forEach(ch=>{
    const d=bookData[ch];
    const isUniv=univCh.includes(ch);
    const label=`<span style="font-weight:700;color:${isUniv?'var(--amber)':'var(--accent)'}">${ch}</span> <span style="color:var(--text2);font-size:12px">${d.name}</span>`;
    const pages=d.titles;
    const rows=Math.ceil(pages.length/COLS);
    let rowsHtml='';
    for(let r=0;r<rows;r++){
      let cells='';
      for(let c=0;c<COLS;c++){
        const idx=r*COLS+c;
        if(idx<pages.length){
          const k=ch+'-'+idx;
          const v=st[k]||0;
          const isDed=ded[k]||false;
          const icon=states[v];
          const bg=stateBg[v];
          const title=pages[idx].replace(/"/g,'&quot;');
          const dedCheck=`<div onclick="toggleDedicated(event,'${ch}',${idx})" style="position:absolute;top:2px;right:2px;width:12px;height:12px;border:1px solid ${isDed?'var(--green)':'#555'};border-radius:2px;background:${isDed?'var(--green)':'transparent'};cursor:pointer;font-size:7px;line-height:12px;text-align:center;color:#fff">${isDed?'âœ“':''}</div>`;
          cells+=`<td onclick="cycleBook('${ch}',${idx})" title="${title}" style="background:${bg};cursor:pointer;text-align:center;padding:8px 4px;border-radius:4px;width:10%;min-width:0;height:52px;user-select:none;transition:background .15s;position:relative;vertical-align:top"><div style="font-size:14px;line-height:1;margin-bottom:2px">${icon||'â€”'}</div><div style="font-size:9px;color:var(--text2);overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;line-height:1.3;word-break:break-word" title="${title}">${title}</div>${dedCheck}</td>`;
        } else {
          cells+=`<td style="width:10%;min-width:0"></td>`;
        }
      }
      rowsHtml+=`<tr>${cells}</tr>`;
    }
    html+=`<div class="card" style="margin-bottom:8px;padding:10px 12px"><div style="margin-bottom:6px">${label}</div><table style="width:100%;table-layout:fixed;border-collapse:separate;border-spacing:3px">${rowsHtml}</table></div>`;
  });
  grid.innerHTML=html;
}
// DJ
const defaultDJ=[
  {song:"Ice In My Eyes â€” WELKER",genre:"Electronic",bpm:"",done:false,time:"2026-02-14T21:04:00Z"},
  {song:"think you're someone new â€” Ian Asher, Arden Jones",genre:"Indie Pop",bpm:"",done:false,time:"2026-02-14T21:04:00Z"},
  {song:"We R Who We R â€” New Beat Order, Seeko, Amero, KROMA",genre:"Electronic",bpm:"",done:false,time:"2026-02-14T21:04:00Z"},
  {song:"BLOCKED â€” G LunÃ©",genre:"Pop",bpm:"",done:false,time:"2026-02-14T21:04:00Z"},
  {song:"CTRL + ALT + DEL â€” RÃªve",genre:"House",bpm:"120",done:false,time:"2026-02-14T21:04:00Z"},
  {song:"Trust Nobody â€” Hippie Sabotage",genre:"Electronic",bpm:"128",done:false,time:"2026-02-14T21:04:00Z"},
  {song:"Substitution (ft. Julian Perretta) â€” Purple Disco Machine, Kungs",genre:"Disco",bpm:"124",done:false,time:"2026-02-14T21:04:00Z"},
  {song:"drifting (remix)",genre:"Other",bpm:"",done:false,time:"2026-02-14T21:04:00Z"}
];
// Default calendar events
if(!localStorage.getItem('mc-cal')){
localStorage.setItem('mc-cal',JSON.stringify([
{date:"2026-02-20",event:"Lightning talks"},
{date:"2026-02-21",event:"Bake off"},
{date:"2026-02-21",event:"Rave - Ferra's birthday"},
{date:"2026-02-27",event:"Surf Bar dinner w/ Lucy - 6pm"},
{date:"2026-03-01",event:"Ski trip (first week of March)"},
{date:"2026-03-12",event:"Florida (2nd weekend, Thu-Mon)"},
{date:"2026-03-21",event:"Maurice's party"},
{date:"2026-04-10",event:"Coachella Weekend 1 (Apr 10-12)"},
{date:"2026-06-06",event:"Victoria's wedding - Chamonix"},
{date:"2026-07-17",event:"Tomorrowland + extra time (Jul 17-26ish)"},
{date:"2026-09-19",event:"Car Davis wedding"}
]));}
if(!localStorage.getItem('mc-dj'))localStorage.setItem('mc-dj',JSON.stringify(defaultDJ));
function getDJ(){return JSON.parse(localStorage.getItem('mc-dj')||'[]')}
function saveDJ(d){localStorage.setItem('mc-dj',JSON.stringify(d))}
function addDJ(){
  const input=document.getElementById('djInput');
  const genre=document.getElementById('djGenre');
  if(!input.value.trim())return;
  const list=getDJ();
  list.unshift({song:input.value.trim(),genre:genre.value,done:false,time:new Date().toISOString()});
  saveDJ(list);input.value='';renderDJ();
}
document.addEventListener('keydown',e=>{if(e.key==='Enter'&&document.activeElement?.id==='djInput')addDJ()});
function toggleDJ(i){const list=getDJ();list[i].done=!list[i].done;saveDJ(list);renderDJ()}
function deleteDJ(i){const list=getDJ();list.splice(i,1);saveDJ(list);renderDJ()}
function renderDJ(){
  const list=getDJ();
  const el=document.getElementById('djList');
  if(!el)return;
  const todo=list.filter(d=>!d.done).length;
  const done=list.filter(d=>d.done).length;
  const dc=document.getElementById('djCount');if(dc)dc.textContent=todo;
  const dd=document.getElementById('djDone');if(dd)dd.textContent=done;
  if(!list.length){el.innerHTML='<div class="empty-state">ğŸµ No songs yet â€” start adding tracks!</div>';return}
  const genreColors={Electronic:'#06b6d4',House:'#3b82f6',Techno:'#a78bfa','Hip-Hop':'#f59e0b',DnB:'#ef4444',Disco:'#ec4899',Pop:'#22c55e','Indie Pop':'#fb923c',Chill:'#2dd4bf',Rock:'#dc2626',Other:'#71717a'};
  el.innerHTML=list.map((d,i)=>`
    <div style="display:flex;align-items:center;gap:10px;padding:10px 0;border-bottom:1px solid var(--border);${d.done?'opacity:0.5;':''}">
      <div style="cursor:pointer;font-size:18px;" onclick="toggleDJ(${i})">${d.done?'âœ…':'â¬œ'}</div>
      <div style="flex:1;${d.done?'text-decoration:line-through;':''}">
        <div style="font-size:13px;color:var(--text);font-weight:500;">${d.song}</div>
        <div style="font-size:10px;margin-top:2px;"><span style="color:${genreColors[d.genre]||'#71717a'};font-weight:600;">${d.genre}</span>${d.bpm?' Â· '+d.bpm+' BPM':''} Â· ${new Date(d.time).toLocaleDateString()}</div>
      </div>
      <button onclick="deleteDJ(${i})" style="background:none;border:none;color:var(--text2);cursor:pointer;font-size:14px;">Ã—</button>
    </div>
  `).join('');
}

// Crons
function renderCrons(){
  // Static render since we can't call the API from browser
  const jobs=[
    {name:'heartbeat',schedule:'Every ~30 min',status:'Active',desc:'Periodic check-in â€” proactive tasks, background work',type:'system'},
    {name:'daily-tip',schedule:'Every day at 11:00 PM ET',status:'Active',desc:'Search the web for one useful tip and send it to Bilbo on Discord',type:'isolated agentTurn'}
  ];
  const list=document.getElementById('cronList');
  if(!list)return;
  document.getElementById('cronCount').textContent=jobs.length;
  document.getElementById('cronNext').textContent='11:00 PM';
  list.innerHTML=jobs.map(j=>`
    <div style="display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid var(--border);">
      <div>
        <div style="font-weight:600;font-size:13px;color:var(--text)">${j.name}</div>
        <div style="font-size:11px;color:var(--text2);margin-top:2px">${j.desc}</div>
        <div style="font-size:10px;color:var(--text2);margin-top:2px">ğŸ“… ${j.schedule} Â· ğŸ”§ ${j.type}</div>
      </div>
      <span style="font-size:10px;padding:3px 8px;border-radius:9999px;font-weight:600;${j.status==='Active'?'background:rgba(34,197,94,0.15);color:var(--green)':'background:rgba(250,204,21,0.15);color:#facc15'}">${j.status}</span>
    </div>
  `).join('');
}

// Bingo
const bingoItems=[
  'Hike Park 2 Park','Cook a Full Chicken','Throw a Big Party','Find an RPG w/ Maurice','Take a Writing Class',
  'Get Grandma into a Book Club','65 Whoop Sleep Score','Take 8 Tennis Lessons','DJ at Real Venue','Merch (Dice Logo)',
  'Run a 5K','210 Chest Press','â­ FREE SPACE â­','Get Blackout Curtains âœ•','Beat Regicide Legacy',
  'Publish One Isaac Mod','Finish Book Pages','Climb a Red','Dead God Binding of Isaac','Learn to do a Backflip',
  '1:10 Letter Blitz Avg','Release Inverse Calendar','Do a Solo Trip','18R of Golf','Finish Lord of the Rings Books'
];

function getBingo(){return JSON.parse(localStorage.getItem('mc-bingo')||'{}')}
function saveBingo(b){localStorage.setItem('mc-bingo',JSON.stringify(b))}

function renderBingo(){
  const grid=document.getElementById('bingoGrid');
  if(!grid)return;
  const state=getBingo();
  grid.innerHTML=bingoItems.map((item,i)=>{
    const isFree=i===12;
    const isDone=isFree||state[i];
    const cls='bingo-cell'+(isFree?' free':'')+(isDone&&!isFree?' done':'');
    return `<div class="${cls}" onclick="${isFree?'':'toggleBingo('+i+')'}">${item}</div>`;
  }).join('');
  const done=Object.values(state).filter(Boolean).length+(1);// +1 for free space
  document.getElementById('bingoCount').textContent=done;
  document.getElementById('bingoRemain').textContent=25-done;
  // Check bingo lines
  const s=i=>i===12||state[i];
  const lines=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],
    [0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],
    [0,6,12,18,24],[4,8,12,16,20]];
  const hasBingo=lines.some(l=>l.every(s));
  document.getElementById('bingoStatus').textContent=hasBingo?'BINGO! ğŸ‰':'Not yet';
  document.getElementById('bingoStatus').style.color=hasBingo?'var(--green)':'var(--text2)';
}

function toggleBingo(i){
  const state=getBingo();
  state[i]=!state[i];
  saveBingo(state);
  renderBingo();
}

// Calendar
function getCal(){return JSON.parse(localStorage.getItem('mc-cal')||'[]')}
function saveCal(c){localStorage.setItem('mc-cal',JSON.stringify(c))}
function addCal(){
  const d=document.getElementById('calDate').value;
  const e=document.getElementById('calEvent').value.trim();
  if(!d||!e)return;
  const list=getCal();
  list.push({date:d,event:e});
  list.sort((a,b)=>a.date.localeCompare(b.date));
  saveCal(list);
  document.getElementById('calEvent').value='';
  renderCal();
}
document.addEventListener('keydown',e=>{if(e.key==='Enter'&&document.activeElement?.id==='calEvent')addCal()});
function deleteCal(i){const list=getCal();list.splice(i,1);saveCal(list);renderCal()}
function renderCal(){
  const list=getCal();
  const el=document.getElementById('calList');
  if(!el)return;
  if(!list.length){el.innerHTML='<div class="empty-state">ğŸ“… No events yet â€” add some dates!</div>';return}
  const months=['January','February','March','April','May','June','July','August','September','October','November','December'];
  let curMonth='';
  let html='';
  list.forEach((item,i)=>{
    const [y,m,d]=item.date.split('-');
    const monthKey=y+'-'+m;
    const monthName=months[parseInt(m)-1]+' '+y;
    if(monthKey!==curMonth){
      curMonth=monthKey;
      html+=`<div style="font-size:16px;font-weight:700;color:var(--accent);margin:${i?'20px':'4px'} 0 10px;padding-bottom:6px;border-bottom:1px solid var(--border)">${monthName}</div>`;
    }
    const dayNum=parseInt(d);
    const dt=new Date(parseInt(y),parseInt(m)-1,dayNum);
    const dayName=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'][dt.getDay()];
    const isPast=new Date(item.date)<new Date(new Date().toDateString());
    html+=`<div style="display:flex;align-items:center;gap:12px;padding:8px 4px;${isPast?'opacity:0.4;':''}">
      <div style="min-width:60px;text-align:right;">
        <span style="font-size:20px;font-weight:700;color:var(--text)">${dayNum}</span>
        <span style="font-size:11px;color:var(--text2);margin-left:4px">${dayName}</span>
      </div>
      <div style="width:3px;height:28px;background:var(--accent);border-radius:2px;flex-shrink:0"></div>
      <div style="flex:1;font-size:14px;color:var(--text)">${item.event}</div>
      <button onclick="deleteCal(${i})" style="background:none;border:none;color:var(--text2);cursor:pointer;font-size:14px;padding:0 4px">Ã—</button>
    </div>`;
  });
  el.innerHTML=html;
}
// Render calendar when switching to it
const origSwitch=switchPanel;
switchPanel=function(id){
  document.querySelectorAll('.nav-item').forEach(n=>n.classList.toggle('active',n.dataset.id===id));
  document.querySelectorAll('.panel').forEach(p=>p.classList.remove('active'));
  document.getElementById('panel-'+id).classList.add('active');
  if(id==='notes')renderNotes();
  if(id==='book')renderBook();
  if(id==='journal')renderJournal();
  if(id==='bingo')renderBingo();
  if(id==='crons')renderCrons();
  if(id==='dj')renderDJ();
  if(id==='spending'){}
  if(id==='calendar')renderCal();
}
</script>
</body>
</html>